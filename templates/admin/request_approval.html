<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Next-Edge</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert2/11.7.0/sweetalert2.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.2.9/css/responsive.dataTables.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert2/11.7.0/sweetalert2.all.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.2.9/js/dataTables.responsive.min.js"></script>
    <style>
        .dataTables_wrapper .dataTables_paginate .paginate_button {
            padding: 0;
            margin: 0;
        }
        .dataTables_wrapper .dataTables_filter input {
            margin-left: 0.5em;
        }
        table.dataTable tbody td {
            word-break: break-word;
            vertical-align: top;
        }
        .content-table {
            width: 100%;
            border-collapse: collapse;
            margin: 0 0;
            font-size: 0.9em;
            min-width: 950px;
            border-radius: 5px 5px 0 0;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
        }
        .content-table thead tr {
            background-color: #073950;
            color: #ffffff;
            text-align: left;
            font-weight: bold;
        }
        .content-table th, .content-table td {
            padding: 12px 15px;
        }
        .content-table tbody tr {
            border-bottom: 1px solid #dddddd;
        }
        .btn {
            display: inline-block;
            font-weight: 400;
            color: #fff;
            text-align: center;
            vertical-align: middle;
            user-select: none;
            background-color: transparent;
            border: 1px solid transparent;
            padding: 0.375rem 0.75rem;
            font-size: 1rem;
            line-height: 1.5;
            border-radius: 0.25rem;
            transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }
        .btn-primary {
            color: #fff;
            background-color: #007bff;
            border-color: #007bff;
        }
        .btn-success {
            color: #fff;
            background-color: #28a745;
            border-color: #28a745;
        }
        .btn-danger {
            color: #fff;
            background-color: #dc3545;
            border-color: #dc3545;
        }
        .btn i {
            margin-right: 0.1rem;
        }
        /* Approval History Button Styles */
        .btn-history {
            color: #fff;
            background-color: #032bdd;
            border-color: #042847;
            margin-bottom: 15px;
        }
        .btn-history i {
            margin-right: 5px;
        }
    

    </style>
</head>
<body>
    {% load static %}
    {% include 'admin/adminindex.html' %}
    <div class="table-responsive"  style="margin: 5px 80px 8px 300px;">

        <!-- Approval History Button -->
        <a href="{% url 'approval_history' %}"><button class="btn btn-success" style="margin-bottom:20px;margin-top:10px; background-color: #265f69; color: white; border: none;">
            <i class="fas fa-history"></i> Approval History
        </button></a>

        <!-- DataTable -->
        <table id="example" class="display nowrap content-table" style="width:100%;">
            <thead>
                <tr>
                    <th>Sl No.</th>
                    <th>Instructor id</th>
                    <th>Course</th>
                    <th>View Details</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for item in courses_with_instructors %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ item.instructor.email }}</td>
                    <td>{{ item.course.name }}</td>
                    <td>
                        <a href="{% url 'view_course_details' item.course.id %}" class="text-decoration-none d-flex align-items-center">
                            <i class='bx bx-show' style="font-size: 1.5em; margin-right: 5px;"></i>
                            <span>Show more</span>
                        </a>
                    </td>
                    <td>
                        <a href="{% url 'approve_course' item.course.id %}" class="text-decoration-none">
                            <button class="btn btn-success">
                                <i class='bx bx-check'></i>
                                Approve
                            </button>
                        </a>
                        <a href="{% url 'reject_course' item.course.id %}" class="text-decoration-none">
                            <button class="btn btn-danger">
                                <i class='bx bx-x-circle'></i> Reject
                            </button>
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <script>
        $(document).ready(function() {
            $('#example').DataTable({
                responsive: true
            });
        });
    </script>

</body>
</html>
